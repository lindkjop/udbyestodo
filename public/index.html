<!doctype html>

<!-- ASSIGN OUR ANGULAR MODULE -->
<html ng-app="udbyesTodo">
<head>
	<!-- META -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1"><!-- Optimize mobile viewport -->

	<title>Udbyes gate</title>

	<!-- SCROLLS -->
	<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css"><!-- load bootstrap -->
	<link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css">
	<style>
	html 					{ overflow-y:scroll; }
	body 					{ padding-top:50px; }
	#todo-list 				{ margin-bottom:30px; }
	#todo-form 	 			{ margin-bottom:50px; }
	</style>

	<!-- SPELLS -->
	<!--<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script><!- - load jquery -->
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.0.8/angular.min.js"></script><!-- load angular -->
	
	<script src="js/controllers/main.js"></script>
	<script src="js/services/todolists.js"></script>
	<script src="js/core.js"></script>
	

</head>

<body ng-controller="mainController">

	<div class="container" name="todolist">
		<div class="panel panel-default" ng-repeat="todolist in todolists">
			<header class="panel-heading text-center"> {{todolist.title}}
				<button type="button" class="btn btn-default btn-sm pull-right" aria-label="Delete todolist" ng-click="deleteTodolist(todolist._id)">
					<i class="fa fa-times"></i>
				</button>
			</header>
			

			<!--THE TODOLIST-->
			<div class="panel-body">
				
				<div class="checkbox" ng-repeat="todo in todolist.todos">
					<label>
						<input type="checkbox" ng-click="deleteTodo(todolist._id, todo._id)"> {{todo.text}}
					</label>
					<span class="badge pull-right">{{todo.duedate}}</span>
					<!--<div class="pull-right">{{todo.duedate}}</div>-->
				</div>


				<!--Input new todo-->
				<div class="row">
					<p class="input-group">
						<div class="col-xs-9">								
							<input type="text" name="todotext" ng-model= "todolists[$index].text" class="form-control input-sm text-center" placeholder="New todo text">
						</div>
						<div class="col-xs-1">
							<p class="input-group">
								<input type="text" class="form-control" datepicker-popup="{{format}}" ng-model="dt" is-open="opened" min-date="minDate" max-date="'2015-06-22'" datepicker-options="dateOptions" date-disabled="disabled(date, mode)" ng-required="true" close-text="Close" />
								<span class="input-group-btnx">
									<button type="button" class="btn btn-default" ng-click="open($event)"><i class="fa fa-calendar"></i></button>
								</span>
							</p>
						</div>
					</p>
					<div class="col-xs-1 pull-right">
						<button type="submit" class="btn btn-default btn-sm" ng-click="addTodo(todolist._id, $index)">
							<i class="fa fa-plus"></i>
						</button>
					</div>
				</div>
			</div>	
		</div>
	</div>


	<!--Form to input new todolist-->
	<div class="container" name="newtodolist">
		<div class="row">
			<div class="col-xs-11">
				<input type="text" ng-model= "newtodolist.title" class="form-control input-sm text-center" placeholder="Todolist title">
			</div>
			<div class="col-xs-1">
				<button type="submit" class="btn btn-default btn-sm" ng-click="createTodolist()">
					<i class="fa fa-plus"></i>
				</button>
			</div>
		</div>
	</div>
</body>
</html>